{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/newowner/Desktop/Project3/frontend/src/components/Login.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport \"../App.css\";\nimport React, { useState } from \"react\";\nimport { Form, Button, Modal, Input, Checkbox } from \"antd\";\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'; // import { ReactComponent as LoginBg } from \"../images/LoginBg.svg\";\n\nimport { API } from \"./ops/API\";\nconst style = {\n  height: 40,\n  width: 90,\n  lineHeight: \"40px\",\n  borderRadius: 4,\n  backgroundColor: \"#006466\",\n  color: \"#fff\",\n  textAlign: \"center\",\n  fontSize: 16,\n  padding: 0\n};\n\nconst LoginCollection = ({\n  visible,\n  onLogin,\n  onCancel,\n  statusMessage\n}) => {\n  _s();\n\n  const [form] = Form.useForm();\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: \"Welcome Back!\",\n    centered: true,\n    visible: visible,\n    onOk: () => form.validateFields().then(values => {\n      form.resetFields();\n      onLogin(values);\n    }).catch(info => {\n      console.log('Validate Failed:', info);\n    }),\n    onCancel: onCancel,\n    htmlType: \"submit\" //   style={{ backgroundImage: `url(${LoginBg})`, backgroundRepeat: 'no-repeat',\n    //   width:'250px', height:'300px'}}\n    ,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      name: \"normal_login\",\n      className: \"login-form\",\n      initialValues: {\n        remember: true\n      },\n      children: [statusMessage, /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: 'Please input your Username!'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 24\n          }, this),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: 'Please input your Password!'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this),\n          type: \"password\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          valuePropName: \"checked\",\n          noStyle: true,\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: \"Remember me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"login-form-forgot\",\n          href: \"/restorePassowrd\",\n          children: \"Forgot password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: \"Register now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 11\n  }, this);\n};\n\n_s(LoginCollection, \"rI7DrJIrFu7YmlGWYiMFTzs8jF0=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = LoginCollection;\nexport default function Login(props) {\n  _s2();\n\n  const [visible, setVisible] = useState(false);\n  const [statusMessage, setStatusMessage] = useState(\"\");\n\n  const onLogin = async values => {\n    try {\n      await API.login(values).then(res => {\n        return res.payload;\n      }).then(login => {\n        if (login.data) {\n          setVisible(false);\n          props.auth(true);\n          props.status();\n        } else {\n          setStatusMessage(\"Authentication failed\");\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      style: style,\n      type: \"primary\",\n      onClick: () => setVisible(true),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoginCollection, {\n      statusMessage: statusMessage,\n      visible: visible,\n      onLogin: onLogin,\n      onCancel: () => {\n        setVisible(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(Login, \"jgJYyciAByk6ZfxLAyEMGGsLyxo=\");\n\n_c2 = Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginCollection\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["/Users/newowner/Desktop/Project3/frontend/src/components/Login.jsx"],"names":["React","useState","Form","Button","Modal","Input","Checkbox","UserOutlined","LockOutlined","API","style","height","width","lineHeight","borderRadius","backgroundColor","color","textAlign","fontSize","padding","LoginCollection","visible","onLogin","onCancel","statusMessage","form","useForm","validateFields","then","values","resetFields","catch","info","console","log","remember","required","message","Login","props","setVisible","setStatusMessage","login","res","payload","data","auth","status","err"],"mappings":";;;;;;;AAAA,OAAO,YAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,QAArC,QAAqD,MAArD;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,mBAA3C,C,CACA;;AACA,SAASC,GAAT,QAAoB,WAApB;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,MAAM,EAAE,EADI;AAEZC,EAAAA,KAAK,EAAE,EAFK;AAGZC,EAAAA,UAAU,EAAE,MAHA;AAIZC,EAAAA,YAAY,EAAE,CAJF;AAKZC,EAAAA,eAAe,EAAE,SALL;AAMZC,EAAAA,KAAK,EAAE,MANK;AAOZC,EAAAA,SAAS,EAAE,QAPC;AAQZC,EAAAA,QAAQ,EAAE,EARE;AASZC,EAAAA,OAAO,EAAE;AATG,CAAd;;AAWA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,OAAX;AAAoBC,EAAAA,QAApB;AAA8BC,EAAAA;AAA9B,CAAD,KAAmD;AAAA;;AAEzE,QAAM,CAACC,IAAD,IAASvB,IAAI,CAACwB,OAAL,EAAf;AAEA,sBAAQ,QAAC,KAAD;AACN,IAAA,KAAK,EAAC,eADA;AAEN,IAAA,QAAQ,MAFF;AAGN,IAAA,OAAO,EAAEL,OAHH;AAIN,IAAA,IAAI,EAAE,MAAMI,IAAI,CACbE,cADS,GAETC,IAFS,CAEHC,MAAD,IAAY;AAChBJ,MAAAA,IAAI,CAACK,WAAL;AACAR,MAAAA,OAAO,CAACO,MAAD,CAAP;AACD,KALS,EAMTE,KANS,CAMFC,IAAD,IAAU;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,IAAhC;AACD,KARS,CAJN;AAcN,IAAA,QAAQ,EAAET,QAdJ;AAeN,IAAA,QAAQ,EAAC,QAfH,CAiBR;AACA;AAlBQ;AAAA,2BAoBN,QAAC,IAAD;AACE,MAAA,IAAI,EAAEE,IADR;AAEE,MAAA,IAAI,EAAC,cAFP;AAGE,MAAA,SAAS,EAAC,YAHZ;AAIE,MAAA,aAAa,EAAE;AACbU,QAAAA,QAAQ,EAAE;AADG,OAJjB;AAAA,iBAQGX,aARH,eASE,QAAC,IAAD,CAAM,IAAN;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,KAAK,EAAE,CACL;AACEY,UAAAA,QAAQ,EAAE,IADZ;AAEEC,UAAAA,OAAO,EAAE;AAFX,SADK,CAFT;AAAA,+BASE,QAAC,KAAD;AAAO,UAAA,MAAM,eAAE,QAAC,YAAD;AAAc,YAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,kBAAf;AAAiE,UAAA,WAAW,EAAC;AAA7E;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,cATF,eAoBE,QAAC,IAAD,CAAM,IAAN;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,KAAK,EAAE,CACL;AACED,UAAAA,QAAQ,EAAE,IADZ;AAEEC,UAAAA,OAAO,EAAE;AAFX,SADK,CAFT;AAAA,+BASE,QAAC,KAAD;AACE,UAAA,MAAM,eAAE,QAAC,YAAD;AAAc,YAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,kBADV;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,WAAW,EAAC;AAHd;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,cApBF,eAmCE,QAAC,IAAD,CAAM,IAAN;AAAA,gCACE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,aAAa,EAAC,SAAzB;AAAmC,UAAA,OAAO,MAA1C;AAAA,iCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAGc;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAiC,UAAA,IAAI,EAAC,kBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHd;AAAA;AAAA;AAAA;AAAA;AAAA,cAnCF,eAuCE,QAAC,IAAD,CAAM,IAAN;AAAA,+BACE;AAAG,UAAA,IAAI,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAvCF;AAAA;AAAA;AAAA;AAAA;AAAA;AApBM;AAAA;AAAA;AAAA;AAAA,UAAR;AAgED,CApED;;GAAMjB,e;UAEWlB,IAAI,CAACwB,O;;;KAFhBN,e;AAqEN,eAAe,SAASkB,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACnC,QAAM,CAAClB,OAAD,EAAUmB,UAAV,IAAwBvC,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACuB,aAAD,EAAgBiB,gBAAhB,IAAoCxC,QAAQ,CAAC,EAAD,CAAlD;;AACA,QAAMqB,OAAO,GAAG,MAAOO,MAAP,IAAkB;AAChC,QAAI;AACF,YAAMpB,GAAG,CAACiC,KAAJ,CAAUb,MAAV,EACHD,IADG,CACGe,GAAD,IAAS;AACb,eAAOA,GAAG,CAACC,OAAX;AACD,OAHG,EAIHhB,IAJG,CAIGc,KAAD,IAAW;AACf,YAAIA,KAAK,CAACG,IAAV,EAAgB;AACdL,UAAAA,UAAU,CAAC,KAAD,CAAV;AACAD,UAAAA,KAAK,CAACO,IAAN,CAAW,IAAX;AACAP,UAAAA,KAAK,CAACQ,MAAN;AACD,SAJD,MAIO;AACLN,UAAAA,gBAAgB,CAAC,uBAAD,CAAhB;AACD;AACF,OAZG,CAAN;AAaD,KAdD,CAcE,OAAOO,GAAP,EAAY;AACZf,MAAAA,OAAO,CAACC,GAAR,CAAYc,GAAZ;AACD;AAEF,GAnBD;;AAqBA,sBACE;AAAA,4BACE,QAAC,MAAD;AACE,MAAA,KAAK,EAAEtC,KADT;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,OAAO,EAAE,MAAM8B,UAAU,CAAC,IAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eASE,QAAC,eAAD;AACE,MAAA,aAAa,EAAEhB,aADjB;AAEE,MAAA,OAAO,EAAEH,OAFX;AAGE,MAAA,OAAO,EAAEC,OAHX;AAIE,MAAA,QAAQ,EAAE,MAAM;AACdkB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AANH;AAAA;AAAA;AAAA;AAAA,YATF;AAAA,kBADF;AAqBD;;IA7CuBF,K;;MAAAA,K","sourcesContent":["import \"../App.css\";\nimport React, { useState } from \"react\";\nimport { Form, Button, Modal, Input, Checkbox } from \"antd\";\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n// import { ReactComponent as LoginBg } from \"../images/LoginBg.svg\";\nimport { API } from \"./ops/API\"\n\nconst style = {\n  height: 40,\n  width: 90,\n  lineHeight: \"40px\",\n  borderRadius: 4,\n  backgroundColor: \"#006466\",\n  color: \"#fff\",\n  textAlign: \"center\",\n  fontSize: 16,\n  padding: 0,\n};\nconst LoginCollection = ({ visible, onLogin, onCancel, statusMessage }) => {\n\n  const [form] = Form.useForm();\n\n  return (<Modal\n    title=\"Welcome Back!\"\n    centered\n    visible={visible}\n    onOk={() => form\n      .validateFields()\n      .then((values) => {\n        form.resetFields();\n        onLogin(values);\n      })\n      .catch((info) => {\n        console.log('Validate Failed:', info);\n      })\n    }\n    onCancel={onCancel}\n    htmlType=\"submit\"\n\n  //   style={{ backgroundImage: `url(${LoginBg})`, backgroundRepeat: 'no-repeat',\n  //   width:'250px', height:'300px'}}\n  >\n    <Form\n      form={form}\n      name=\"normal_login\"\n      className=\"login-form\"\n      initialValues={{\n        remember: true,\n      }}\n    >\n      {statusMessage}\n      <Form.Item\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your Username!',\n          },\n        ]}\n      >\n        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your Password!',\n          },\n        ]}\n      >\n        <Input\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n      </Form.Item>\n      <Form.Item>\n        <Form.Item valuePropName=\"checked\" noStyle>\n          <Checkbox>Remember me</Checkbox>\n        </Form.Item><a className=\"login-form-forgot\" href=\"/restorePassowrd\">Forgot password</a></Form.Item>\n      <Form.Item>\n        <a href=\"/register\">Register now!</a>\n      </Form.Item>\n    </Form>\n  </Modal>)\n}\nexport default function Login(props) {\n  const [visible, setVisible] = useState(false)\n  const [statusMessage, setStatusMessage] = useState(\"\")\n  const onLogin = async (values) => {\n    try {\n      await API.login(values)\n        .then((res) => {\n          return res.payload\n        })\n        .then((login) => {\n          if (login.data) {\n            setVisible(false)\n            props.auth(true)\n            props.status()\n          } else {\n            setStatusMessage(\"Authentication failed\")\n          }\n        })\n    } catch (err) {\n      console.log(err)\n    }\n\n  };\n\n  return (\n    <>\n      <Button\n        style={style}\n        type=\"primary\"\n        onClick={() => setVisible(true)}\n      >\n        Login\n        </Button>\n\n      <LoginCollection\n        statusMessage={statusMessage}\n        visible={visible}\n        onLogin={onLogin}\n        onCancel={() => {\n          setVisible(false);\n        }}\n      />\n\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}